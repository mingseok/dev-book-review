# 데이터 타입과 추상화

<img src= 'https://t1.daumcdn.net/cfile/tistory/27462B3A56B046E415'>

헤리 벡은 지하철을 이용하는 승객들을 면밀하게 관찰한 후 승객이 꼭 알아야 하는 사실만 정확하게 표현하고,
몰라도 되는 정보는 무시함으로써 이해하기 쉽고 단순하며 목적에 부합되는 지하철 노선도를 창조하였다,


## 추상화를 통한 복잡성 극복

``` 현실은 복잡하며 예측 불가능한 혼돈의 덩어리다. ```

진정한 의미에서 추상화란 현실에서 출발하되 불필요한 부분을 도려내가면서 사물의 본질은 드러나게 하는 과정이라고 할 수 있다. 

### 추상화
- 구체적인 사물들 간의 공통점은 취하고, 차이점은 버리는 일반화를 통해 단순하게 만드는 것
- 중요한 부분을 강조하기 이ㅜ해 불필요한 세부 사항을 제거함으로써 단순하게 만드는 것


### '기껏해야 트럼프에 불과해'

앨리스는 하얀 토끼를 제외한 모든 객체를 '트럼프' 라는 하나의 개념으로 단순화해서 바라보고 있다.

공통점을 기반으로 객체들을 묶기위한 그릇을 **개념(concept)**라고 한다.

개념을 이용하면 객체를 여러 그룹으로 **분류(classification)** 할 수 있다.
-> 앨리스가 정원에 존재하는 객체를 '트럼프'와 '토끼' 라는 두 개념으로 나누고
    두 개념에 적합한 객체가 각 그룹에 포함되도록 분류했다는 사실에 주목하라.
하트 여왕은 '트럼프'라는 개념 그룹의 일원이고, 하얀 토끼 또한 토끼 개념그룹의 일부이다.
이처럼 객체에 어떤 개념을 적용하는 것이 가능해서, 개념 그룹의 일원이 될 때 객체를 그 개념의 인스턴스(instance)라고 한다.

## 개념의 세가지 관점

### 심볼(symbol)
개념을 가리키는 간략한 이름이나 명칭
-> '트럼프'라는 이름

### 내연(intension)
개념의 완전한 정의를 나타내며, 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인할 수 있다.
-> 몸이 납작하고 두 손과 두 발이 네모난 몸 모서리에 달려있다는 설명

### 외연(extension)
개념에 속하는 모든 객체의 집합
-> 정원사, 병사, 신하, 왕자 등등

개념이 심볼, 내연, 외연으로 구성돼 있다는 사실보다는, 개념을 통해 객체를 분류할 수 있다는 사실이 중요하다.
-> 객체지향 패러다임이 복잡성을 극복하는데 사용하는 가장 기본적인 인지 수단


> 분류란 객체에 특정한 개념을 적용하는 작업이다. 객체에 특정한 개념을 적용하기로 결심했을 때 우리는 그 객체를 특정한 집합의 멤버로 분류하고 잇는 것이다.

분류는 객체지향의 각장 중요한 개념 중 하나다. 어떤 객체를 어떤 개념으로 분류할지가 객체지향의 품질을 결정한다.
객체를 적절한 개념에 따라 분류하지 못한 어플리케이션은 유지보수가 어렵고 변화에 쉽게 대처하지 못한다.

## 타입
### 타입은 개념이다.
> 타입은 개념과 동일하다. 타입이란 우리가 인시갛고 있는 사물이나 객체에 적용할 수 있는 아이디어나 관념을 의미한다. 어떤 객체에 타입을 적용할 수 있을 때 그 객체를 타입의 인스턴스라고 한다. 타입의 인스턴스는 타입을 구성하는 외연인 객체 집합의 일원이 된다.

데이터 타입을 예로 들었을 경우에.
1. 데이터가 어떻게 사용되느냐
숫자형 데이터로는 +,-,/,* 등으 ㅣ연산자(operater)를 사용할 수 있다.
문자열일 경우에는 두 데이터를 연결해 새로운 문자열은 마들 수 있고, 데이터에 포함된 문자열의 길이를 알 수 있다.
2. 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철처하게 감춰진다.
개발자는 데이터 타입의 표현방식을 몰라도, 해당 데이터 타입에 적용할 수 잇는 연사자만 알고 있으면 된다.

### 객체와 타입

객체는 데이터인가? 
그렇지않다. 객체에서 중요한 것은 객체의 행동이다. 객체를 창조할 때 가장 중요하게 고려해야 할 것은, 객체가 이웃하는 객체와 협력하기 위해 어떤 행동을 결정해야 하는 것이다. 
즉 객체가 협력을 위해 어떤 책임을 지녀야 하는지를 결정하는 것이 객체지향 설계의 핵심이다.

첫째, 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동이다. 어떤 객체들이 동일한 행동을 수행할 수 있다면 그 객체들은 동일한 타입으로 분류될 수 있다.

둘째, 객체의 내부적인 표현은 외부로부터 철저하게 감춰진다. 객체의 행동을 가장 효과적으로 사용할 수만 있다면 객체 내부의 상태를 어떤 방식으로 표현하더라도 무방하다.

### 행동이 우선이다.
같은 타입에 속한 객체는 행동만 동일하다면 서로 다른 데이터를 가질 수 있다. 
여기서 동일한 행동이란 동일한 책임을 의미하며, 동일한 책임이란 동이란 메시지 수신을 의미한다.
따라서 동일한 타입에 속한 객체는 내부의 데이터 표현 방식이 다르더라도, 이를 처리할 수 있다.
다만 내부의 표현 방식이 다르기 때문에 동일한 메시지를 처리하는 방식은 서로 다를 수밖에 없는데, 이것은 **다형성**에 의미를 부여한다.
또한 외부에 데이터를 노출시키지 않도록 **캡슐화** 하여야 한다.

객체가 외부에 제공해야하는 책임을 먼저 결정하고, 그 책임을 수행하는데 적합한 데이터를 나중에 결정한 후, 데이터 책임을 수행하는데 필요한 외부 인터페이스 뒤로 캡슐화 해야한다.
흔히 **책임-주도-설계(Responsibility-Driven Design)**이라는 설걔방법은 **데이터-주도 설계** 방법의 단점을 개선하기 위해 고안됐다.

## 일반화/특수화 관계

일반화와 특수화는 동시에 일어난다. 
중요한 것은 객체지향에서 일반화, 특수화 관걔를 결정하는 것은 객체의 사앹를 표현하는 데이터가 아니라 행동이다.
일반적인 타입은 특수한 타입에 비해 더 적은수의 행동을 가지며, 특수한 타입은 더 많은 행동을 가진다.

### 슈퍼타입과 서브타입
좀 더 일반적인 탕비을 **슈퍼타입(SuperType)**이라고 하고, 좀 더 특수한 타입을 **서브타입(SubType)**이라 한다.
- 슈퍼타입은 슈퍼타입의 행위에 추가적으로 특수한 자신만의 행동을 추가하는 것이므로, 슈퍼타입의 행동은 서브타입에게 자동으로 상속된다.

## 정적 모델
앨리스의 키는 음식을 먹을때나 행동을 할 때마다 바뀐다. 엘리스의 키는 계속 변하지만 모든 경우에
**엘리스는 단지 엘리스일 뿐이다.**
엘리스라고 하는 객체의 상태는 변하지만, 다른 객체와 구별할 수 잇는 식별성은 동일하게 유지된다.
타입은 시간에 따라 동적으로 변하는 엘리스의 상태를 시간과 무관한 정적인 모습으로 다를 수 있게 해준다.

### 타입은 추상화다. 타입을 이용하면 객체의 동적인 특성을 추상화 할 수 있다.

### 동적 모델과 정적 모델

우리는 객체지향 어플리케이션을 설계하고 구현하기 위해서는 객체 관점의 동적 모데로가 객체를 추상화한 타입 관점의 정적 모델을 적절히 혼용해야 한다.

1. 객체가 특점 시점에 구체적으로 어떤 상태를 가지냐를 나타낸 모델을 스냅샷(Snapshot) 이나 객체 다이어그램 이라한다.
2. 객체가 가질 수 있는 모든 상태와 행동을 시간에 독립적으로 표현하는 것을 타입모델(Type diagram)이라고 한다.

객체지향 패러다임을 주도하는 대부분의 프로그래밍 언어는 클래스를 기반으로 하기 때문에, 클래스와 타입을 동일한 개념이라 생각한다. 클래스는 타입의 구현 외에도, 코드를 재사용하는 용도로도 사용되기 때문에 클래스와 타입을 동일시 하는 것은 수많은 오해와 혼란을 불러일으키곤 한다. 
-> 타입을 구현할 수 있는 방법중 하나가 클래스라는 것을 알아야 한다.

객체지향에서 중요한 것은 객체의 상태와 행위다. 클래스는 타입을 구현하기 위해 프로그래밍 언어에서 제공하는 구현 메커니즘이라는 사실을 기억해야 한다.




